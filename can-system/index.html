
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="TidyBot++: An Open-Source Holonomic Mobile Manipulator for Robot Learning">
      
      
      
        <link rel="canonical" href="http://tidybot2.github.io/docs/can-system/">
      
      
        <link rel="prev" href="../power-system/">
      
      
        <link rel="next" href="../frame/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.49">
    
    
      
        <title>CAN system - TidyBot++ Docs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.6f8fc17f.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-NBGQBQD9W5"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-NBGQBQD9W5",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-NBGQBQD9W5",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
      
        <meta  property="og:type"  content="website" >
      
        <meta  property="og:title"  content="CAN system - TidyBot++ Docs" >
      
        <meta  property="og:description"  content="TidyBot++: An Open-Source Holonomic Mobile Manipulator for Robot Learning" >
      
        <meta  property="og:image"  content="http://tidybot2.github.io/docs/assets/images/social/can-system.png" >
      
        <meta  property="og:image:type"  content="image/png" >
      
        <meta  property="og:image:width"  content="1200" >
      
        <meta  property="og:image:height"  content="630" >
      
        <meta  property="og:url"  content="http://tidybot2.github.io/docs/can-system/" >
      
        <meta  name="twitter:card"  content="summary_large_image" >
      
        <meta  name="twitter:title"  content="CAN system - TidyBot++ Docs" >
      
        <meta  name="twitter:description"  content="TidyBot++: An Open-Source Holonomic Mobile Manipulator for Robot Learning" >
      
        <meta  name="twitter:image"  content="http://tidybot2.github.io/docs/assets/images/social/can-system.png" >
      
    
    
   <link href="../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../assets/javascripts/glightbox.min.js"></script></head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#can-system" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="TidyBot++ Docs" class="md-header__button md-logo" aria-label="TidyBot++ Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            TidyBot++ Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              CAN system
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/jimmyyhwu/tidybot2" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    tidybot2
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="TidyBot++ Docs" class="md-nav__button md-logo" aria-label="TidyBot++ Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    TidyBot++ Docs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/jimmyyhwu/tidybot2" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    tidybot2
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../bom/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bill of materials (BOM)
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../caster-modules/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Caster modules
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../power-system/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Power system
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    CAN system
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    CAN system
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#canivore-assembly" class="md-nav__link">
    <span class="md-ellipsis">
      CANivore assembly
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canivore-setup" class="md-nav__link">
    <span class="md-ellipsis">
      CANivore setup
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#motor-setup" class="md-nav__link">
    <span class="md-ellipsis">
      Motor setup
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#encoder-setup" class="md-nav__link">
    <span class="md-ellipsis">
      Encoder setup
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#can-bus-wiring" class="md-nav__link">
    <span class="md-ellipsis">
      CAN bus wiring
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#motor-testing" class="md-nav__link">
    <span class="md-ellipsis">
      Motor testing
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#encoder-testing" class="md-nav__link">
    <span class="md-ellipsis">
      Encoder testing
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setup-complete" class="md-nav__link">
    <span class="md-ellipsis">
      Setup complete
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../frame/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Frame
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Integration
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../arm-mounting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Arm mounting
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../software/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Software
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../usage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Usage
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#canivore-assembly" class="md-nav__link">
    <span class="md-ellipsis">
      CANivore assembly
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canivore-setup" class="md-nav__link">
    <span class="md-ellipsis">
      CANivore setup
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#motor-setup" class="md-nav__link">
    <span class="md-ellipsis">
      Motor setup
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#encoder-setup" class="md-nav__link">
    <span class="md-ellipsis">
      Encoder setup
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#can-bus-wiring" class="md-nav__link">
    <span class="md-ellipsis">
      CAN bus wiring
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#motor-testing" class="md-nav__link">
    <span class="md-ellipsis">
      Motor testing
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#encoder-testing" class="md-nav__link">
    <span class="md-ellipsis">
      Encoder testing
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setup-complete" class="md-nav__link">
    <span class="md-ellipsis">
      Setup complete
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="can-system">CAN system</h1>
<p><em>Estimated time: 30 minutes</em></p>
<p>This page describes how to set up the CAN system so that you can communicate with the motors and encoders from your computer.</p>
<h2 id="canivore-assembly">CANivore assembly</h2>
<p>Tools:</p>
<ul>
<li>WAGO tool</li>
<li>Electrical tape</li>
<li>Zip ties</li>
</ul>
<p>Follow these steps to assemble the CANivore:</p>
<ol>
<li>Locate the CAN cables in the cable kit: one with a female connector and one with a male connector.</li>
<li>Connect the female CAN cable to the green (G) and yellow (Y) slots on the CANivore.</li>
<li>Attach the male CAN cable to the termination resistor using two inline wire connectors.</li>
<li>Cover the resistor with electrical tape and secure the tape with a zip tie.</li>
</ol>
<p>See video (2x speed):</p>
<video data-src="../videos/can-system/IMG_4781-2x.mp4#t=0.001" controls playsinline></video>

<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Press down on the white spring mechanism with the WAGO tool to open the wire slot:</p>
<p><video data-src="../videos/can-system/IMG_1486.mp4#t=0.001" controls playsinline style="width: 49.45%;"></video></p>
<p>Then, insert the wire while the slot is held open.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Double-check the polarities of the CAN wires (green and yellow):</p>
<p><a class="glightbox" href="../images/can-system/IMG_6666.jpg" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/can-system/IMG_6666.jpg" width="32.55%" /></a></p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Avoid leaving exposed metal, as shown with the green wire in the photo below:</p>
<p><a class="glightbox" href="../images/can-system/IMG_1505.jpg" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/can-system/IMG_1505.jpg" width="49.45%" /></a></p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Gently tug on each of the 6 new connections to make sure they are secure.</p>
</div>
<h2 id="canivore-setup">CANivore setup</h2>
<p>To set up the CANivore, first install Phoenix Tuner X on a Windows computer following the <a href="https://v6.docs.ctr-electronics.com/en/stable/docs/tuner/index.html">official instructions</a>.
We have previously tested both of these installation methods:</p>
<ul>
<li><a href="https://apps.microsoft.com/store/detail/phoenix-tuner/9NVV4PWDW27Z">Microsoft Store</a></li>
<li><a href="https://github.com/CrossTheRoadElec/Phoenix-Releases/releases">Offline EXE installer</a> (Use the latest version of <code>Phoenix-Offline.exe</code>)</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Windows is only needed for initial setup of the motors and encoders.
Our main codebase runs on Ubuntu.</p>
</div>
<p>After successfully installing Phoenix Tuner X, connect the CANivore USB-to-CAN adapter to your Windows computer.
Then, open Phoenix Tuner X and enable the "CANivore USB" toggle:</p>
<p><a class="glightbox" href="../images/can-system/Phoenix%20Tuner%20X%20-%20CANivore%20USB%20On.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/can-system/Phoenix%20Tuner%20X%20-%20CANivore%20USB%20On.png" width="49.45%" /></a></p>
<p>The CANivore should now appear in Phoenix Tuner X:</p>
<p><a class="glightbox" href="../images/can-system/Phoenix%20Tuner%20X%20-%20CANivore%20Firmware%20Update%201.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/can-system/Phoenix%20Tuner%20X%20-%20CANivore%20Firmware%20Update%201.png" width="49.45%" /></a></p>
<p>Click the checkbox next to the lightbulb to select the device, then click the up arrow in the top-right corner to open the firmware update dialog:</p>
<p><a class="glightbox" href="../images/can-system/Phoenix%20Tuner%20X%20-%20CANivore%20Firmware%20Update%202.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/can-system/Phoenix%20Tuner%20X%20-%20CANivore%20Firmware%20Update%202.png" width="49.45%" /></a></p>
<p>In the dialog, click the button to update the device to the latest firmware:</p>
<p><a class="glightbox" href="../images/can-system/Phoenix%20Tuner%20X%20-%20CANivore%20Firmware%20Update%203.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/can-system/Phoenix%20Tuner%20X%20-%20CANivore%20Firmware%20Update%203.png" width="32.55%" /></a>
<a class="glightbox" href="../images/can-system/Phoenix%20Tuner%20X%20-%20CANivore%20Firmware%20Update%204.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/can-system/Phoenix%20Tuner%20X%20-%20CANivore%20Firmware%20Update%204.png" width="32.55%" /></a></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There are multiple ways to update firmware in Phoenix Tuner X.
If you are prompted to upload a file, try again using the method described above.</p>
</div>
<p>After the firmware update is complete, the border should turn green:</p>
<p><a class="glightbox" href="../images/can-system/Phoenix%20Tuner%20X%20-%20CANivore%20Firmware%20Update%205.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/can-system/Phoenix%20Tuner%20X%20-%20CANivore%20Firmware%20Update%205.png" width="49.45%" /></a></p>
<p>You can now assign a meaningful name to the device, such as "Drivetrain".</p>
<p>Next, click the "LIC" button in the bottom-right corner and use the dialog to activate your Phoenix Pro license:</p>
<p><a class="glightbox" href="../images/can-system/Phoenix%20Tuner%20X%20-%20CANivore%20Licensing%201.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/can-system/Phoenix%20Tuner%20X%20-%20CANivore%20Licensing%201.png" width="32.55%" /></a>
<a class="glightbox" href="../images/can-system/Phoenix%20Tuner%20X%20-%20CANivore%20Licensing%202.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/can-system/Phoenix%20Tuner%20X%20-%20CANivore%20Licensing%202.png" width="32.55%" /></a></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We use a "CANivore bus" Pro license, which enables all devices connected to an activated CANivore to access Pro features like field-oriented control.
The "single device" license activates only one device.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The official <a href="https://v6.docs.ctr-electronics.com/en/stable/docs/canivore/canivore-setup.html">CANivore setup guide</a> can also be a helpful resource for this section.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The Phoenix Tuner X software is maintained by CTR Electronics.
Their contact information can be found <a href="https://store.ctr-electronics.com/pages/contact">here</a>.</p>
</div>
<h2 id="motor-setup">Motor setup</h2>
<p>Please connect and set up one motor at a time using the following procedure:</p>
<ol>
<li>Locate the two CAN wires on each motor: one with a male connector and one with a female connector.</li>
<li>Attach the termination resistor to the female connector.</li>
<li>Attach the CANivore to the male connector.</li>
<li>Make sure the connector polarities are correctly aligned (yellow to yellow, green to green).</li>
</ol>
<p>See video (2x speed):</p>
<video data-src="../videos/can-system/IMG_6714-2x.mp4#t=0.001" controls playsinline></video>

<p>The resulting CAN bus should look like this:</p>
<pre class="mermaid"><code>flowchart LR
    C("CANivore") &lt;--&gt; M("Motor") &lt;--&gt; R("Resistor")</code></pre>
<p>Once connected, the motor should appear in Phoenix Tuner X:</p>
<p><a class="glightbox" href="../images/can-system/Phoenix%20Tuner%20X%20-%20Talon%20FX%20Firmware%20Update%201.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/can-system/Phoenix%20Tuner%20X%20-%20Talon%20FX%20Firmware%20Update%201.png" width="49.45%" /></a></p>
<p>Update the motor's firmware using the same procedure as with the CANivore:</p>
<p><a class="glightbox" href="../images/can-system/Phoenix%20Tuner%20X%20-%20Talon%20FX%20Firmware%20Update%202.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/can-system/Phoenix%20Tuner%20X%20-%20Talon%20FX%20Firmware%20Update%202.png" width="32.55%" /></a>
<a class="glightbox" href="../images/can-system/Phoenix%20Tuner%20X%20-%20Talon%20FX%20Firmware%20Update%203.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/can-system/Phoenix%20Tuner%20X%20-%20Talon%20FX%20Firmware%20Update%203.png" width="32.55%" /></a></p>
<p>The border should turn green after the firmware update:</p>
<p><a class="glightbox" href="../images/can-system/Phoenix%20Tuner%20X%20-%20Talon%20FX%20Firmware%20Update%204.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/can-system/Phoenix%20Tuner%20X%20-%20Talon%20FX%20Firmware%20Update%204.png" width="49.45%" /></a></p>
<p>Then, use the following table to assign the motor's device ID and name accordingly:</p>
<table>
<thead>
<tr>
<th>Caster No.</th>
<th>Motor No.</th>
<th>Motor Name</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>1</td>
<td>Front Right Steer</td>
</tr>
<tr>
<td></td>
<td>2</td>
<td>Front Right Drive</td>
</tr>
<tr>
<td>2</td>
<td>3</td>
<td>Front Left Steer</td>
</tr>
<tr>
<td></td>
<td>4</td>
<td>Front Left Drive</td>
</tr>
<tr>
<td>3</td>
<td>5</td>
<td>Back Left Steer</td>
</tr>
<tr>
<td></td>
<td>6</td>
<td>Back Left Drive</td>
</tr>
<tr>
<td>4</td>
<td>7</td>
<td>Back Right Steer</td>
</tr>
<tr>
<td></td>
<td>8</td>
<td>Back Right Drive</td>
</tr>
</tbody>
</table>
<p>Repeat this process to set up all 8 motors.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Our convention is to list steer motors (odd numbers) before drive motors (even numbers):</p>
<table>
<thead>
<tr>
<th style="text-align: center;">Steer motor</th>
<th style="text-align: center;">Drive motor</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><a class="glightbox" href="../images/can-system/Motor%20-%20Steer.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/can-system/Motor%20-%20Steer.png" /></a></td>
<td style="text-align: center;"><a class="glightbox" href="../images/can-system/Motor%20-%20Drive.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/can-system/Motor%20-%20Drive.png" /></a></td>
</tr>
</tbody>
</table>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For reference, this will be the eventual layout of the motors and encoders within the frame:</p>
<p><a class="glightbox" href="../images/Schematic.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/Schematic.png" width="49.45%" /></a></p>
</div>
<h2 id="encoder-setup">Encoder setup</h2>
<p>Please connect and set up one encoder at a time, following a process similar to the motor setup.
Connect the encoder to the CANivore and the termination resistor.
See video (2x speed):</p>
<video data-src="../videos/can-system/IMG_6716-2x.mp4#t=0.001" controls playsinline></video>

<p>The resulting CAN bus should look like this:</p>
<pre class="mermaid"><code>flowchart LR
    C("CANivore") &lt;--&gt; E("Encoder") &lt;--&gt; R("Resistor")</code></pre>
<p>The encoder should appear in Phoenix Tuner X:</p>
<p><a class="glightbox" href="../images/can-system/Phoenix%20Tuner%20X%20-%20CANcoder%20Firmware%20Update%201.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/can-system/Phoenix%20Tuner%20X%20-%20CANcoder%20Firmware%20Update%201.png" width="49.45%" /></a></p>
<p>Update the encoder's firmware using the same procedure as before:</p>
<p><a class="glightbox" href="../images/can-system/Phoenix%20Tuner%20X%20-%20CANcoder%20Firmware%20Update%202.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/can-system/Phoenix%20Tuner%20X%20-%20CANcoder%20Firmware%20Update%202.png" width="32.55%" /></a>
<a class="glightbox" href="../images/can-system/Phoenix%20Tuner%20X%20-%20CANcoder%20Firmware%20Update%203.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/can-system/Phoenix%20Tuner%20X%20-%20CANcoder%20Firmware%20Update%203.png" width="32.55%" /></a></p>
<p>After the firmware update, the border should turn green:</p>
<p><a class="glightbox" href="../images/can-system/Phoenix%20Tuner%20X%20-%20CANcoder%20Firmware%20Update%204.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/can-system/Phoenix%20Tuner%20X%20-%20CANcoder%20Firmware%20Update%204.png" width="49.45%" /></a></p>
<p>Use the following table to assign the encoder's device ID and name:</p>
<table>
<thead>
<tr>
<th>Caster No.</th>
<th>Encoder No.</th>
<th>Encoder Name</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>1</td>
<td>Front Right</td>
</tr>
<tr>
<td>2</td>
<td>2</td>
<td>Front Left</td>
</tr>
<tr>
<td>3</td>
<td>3</td>
<td>Back Left</td>
</tr>
<tr>
<td>4</td>
<td>4</td>
<td>Back Right</td>
</tr>
</tbody>
</table>
<p>Repeat this process to set up all 4 encoders.</p>
<h2 id="can-bus-wiring">CAN bus wiring</h2>
<p>After completing the firmware setup, connect the CAN wires of all devices in the following order:</p>
<pre class="mermaid"><code>flowchart LR
    C("CANivore") &lt;--&gt; C1("Caster 1") &lt;--&gt; C2("Caster 2") &lt;--&gt; C3("Caster 3") &lt;--&gt; C4("Caster 4") &lt;--&gt; R("Resistor")</code></pre>
<p>Within each caster module, connect the motors and encoders in the following order:</p>
<pre class="mermaid"><code>flowchart LR
    subgraph C1 ["Caster 1"]
        M1("Motor 1 (steer)") &lt;--&gt; E1(Encoder 1) &lt;--&gt; M2("Motor 2 (drive)")
    end
    C("CANivore") &lt;--&gt; M1
    M2 &lt;--&gt; C2("Caster 2")</code></pre>
<pre class="mermaid"><code>flowchart LR
    subgraph C2 ["Caster 2"]
        M3("Motor 3 (steer)") &lt;--&gt; E2(Encoder 2) &lt;--&gt; M4("Motor 4 (drive)")
    end
    C1("Caster 1") &lt;--&gt; M3
    M4 &lt;--&gt; C3("Caster 3")</code></pre>
<pre class="mermaid"><code>flowchart LR
    subgraph C3 ["Caster 3"]
        M5("Motor 5 (steer)") &lt;--&gt; E3(Encoder 3) &lt;--&gt; M6("Motor 6 (drive)")
    end
    C2("Caster 2") &lt;--&gt; M5
    M6 &lt;--&gt; C4("Caster 4")</code></pre>
<pre class="mermaid"><code>flowchart LR
    subgraph C4 ["Caster 4"]
        M7("Motor 7 (steer)") &lt;--&gt; E4(Encoder 4) &lt;--&gt; M8("Motor 8 (drive)")
    end
    C3("Caster 3") &lt;--&gt; M7
    M8 &lt;--&gt; R("Resistor")</code></pre>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We recommend connecting the devices in the same order shown here.
However, the devices can actually be connected in any order as long as the sequence starts with the CANivore and ends with the termination resistor.</p>
</div>
<p>See video (4x/16x speed):</p>
<video data-src="../videos/can-system/IMG_6711-4x-16x.mp4#t=0.001" controls playsinline></video>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In the video above, the motors are arranged as 2, 1, 4, 3 instead of the expected order (1, 2, 3, 4) because the wires are facing upwards.
Once the casters are installed in the frame later, the wires will face inward, and the motor numbers will align with the expected order.</p>
</div>
<p>After everything is connected, double-check that all 12 devices appear in Phoenix Tuner X:</p>
<p><a class="glightbox" href="../images/can-system/Phoenix%20Tuner%20X%20-%20Device%20List.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/can-system/Phoenix%20Tuner%20X%20-%20Device%20List.png" /></a></p>
<h2 id="motor-testing">Motor testing</h2>
<p>For each caster module, start by testing the steer motor:</p>
<ol>
<li>Open the steer motor in Phoenix Tuner X.</li>
<li>Set the control mode to "DutyCycleOut".</li>
<li>Click the red "Disabled" button to change it to "Enabled".</li>
<li>Set the "Output" to a small value, such as 0.1.</li>
</ol>
<p>See screenshot below:</p>
<p><a class="glightbox" href="../images/can-system/Phoenix%20Tuner%20X%20-%20Talon%20FX%20Control%20Steer.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/can-system/Phoenix%20Tuner%20X%20-%20Talon%20FX%20Control%20Steer.png" /></a></p>
<p>This should cause the caster to steer:</p>
<video data-src="../videos/can-system/IMG_6718.mp4#t=0.001" controls playsinline></video>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you decide to experiment with other control modes, be careful!
The default min/max limits are very high for some modes.
You might want to hold down the module or secure it in place, just in case.</p>
</div>
<p>Next, test the drive motor by following the same procedure:</p>
<p><a class="glightbox" href="../images/can-system/Phoenix%20Tuner%20X%20-%20Talon%20FX%20Control%20Drive.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/can-system/Phoenix%20Tuner%20X%20-%20Talon%20FX%20Control%20Drive.png" /></a></p>
<p>This should cause the wheel to turn:</p>
<video data-src="../videos/can-system/IMG_6719.mp4#t=0.001" controls playsinline></video>

<p>Repeat this process for all 8 motors across the 4 modules.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you hear abnormally loud gear grinding sounds while the wheel is turning, it's likely due to gear misalignment.
Please revisit <a href="../caster-modules/#step-8-wheel-mount-prep">Step 8</a> in the caster module assembly guide and make sure the wheel mounts were installed properly.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Unsure which motor is which? You can click the "Blink" button in Phoenix Tuner X to make the selected motor's lights blink rapidly.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>We recommend labeling each motor with a sticker showing its number.</p>
</div>
<h2 id="encoder-testing">Encoder testing</h2>
<p>For each caster, test its encoder by manually steering the module while monitoring the encoder position under "General Signals" (look for the "Position" reading and click "Refresh" to update).
Start by steering until the encoder position is close to 0:</p>
<p><a class="glightbox" href="../images/can-system/Phoenix%20Tuner%20X%20-%20CANcoder%20Self%20Test.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/can-system/Phoenix%20Tuner%20X%20-%20CANcoder%20Self%20Test.png" /></a></p>
<p>Once the encoder position is near 0, steer the module through one full revolution.
See video (2x speed):</p>
<video data-src="../videos/can-system/IMG_6717-2x.mp4#t=0.001" controls playsinline></video>

<p>After clicking "Refresh" again, the encoder position should now read close to 1:</p>
<p><a class="glightbox" href="../images/can-system/Phoenix%20Tuner%20X%20-%20CANcoder%20Position.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/can-system/Phoenix%20Tuner%20X%20-%20CANcoder%20Position.png" width="49.45%" /></a></p>
<p>To test further, steer the module for several more revolutions and verify that the encoder reading accurately reflects the number of revolutions.
Repeat for all 4 encoders.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If your encoder detects less rotation than expected, the encoder magnet might be loose.
This can occur if the Loctite 609 retaining compound has not fully cured yet.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>To avoid having to repeatedly refresh the position reading, you can also use the plotting functionality:</p>
<p><a class="glightbox" href="../images/can-system/Phoenix%20Tuner%20X%20-%20CANcoder%20Plot.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../images/can-system/Phoenix%20Tuner%20X%20-%20CANcoder%20Plot.png" /></a></p>
</div>
<h2 id="setup-complete">Setup complete</h2>
<p>After verifying that all motors and encoders are working correctly, your drive system is ready for installation into the frame.
Please disconnect all wires before proceeding.
You will reconnect them in the same way later, after the modules are installed in the frame.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Sealed lead acid (SLA) batteries should not be left in a discharged state, as it can degrade the battery.
Please charge the battery after use.
Refer to the <a href="../usage/#power-off-procedure">Usage guide</a> for charging instructions.</p>
</div>







  
  



  




                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../power-system/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Power system">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Power system
              </div>
            </div>
          </a>
        
        
          
          <a href="../frame/" class="md-footer__link md-footer__link--next" aria-label="Next: Frame">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Frame
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2024 Jimmy Wu. Licensed under <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank">CC BY 4.0</a>. <a href="https://docs.google.com/forms/d/e/1FAIpQLSfbiWzCW_GHD1S7jvza5ynSHmWDhtgOEsHq_iqdvzEj_AU8GA/viewform" target="_blank">Feedback form</a>.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.code.copy", "content.tabs.link", "navigation.footer"], "search": "../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.88dd0f4e.min.js"></script>
      
        <script src="../javascripts/extra.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>